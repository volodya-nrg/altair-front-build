{"version":3,"sources":["webpack:///src/app/modules/profile/components/page-profile/ads/ads.component.ts","webpack:///src/app/modules/profile/components/page-profile/ads/ads.component.html","webpack:///src/app/modules/profile/components/page-profile/info/info.component.ts","webpack:///src/app/modules/profile/components/page-profile/info/info.component.html","webpack:///src/app/modules/profile/components/page-profile/page-profile.component.ts","webpack:///src/app/modules/profile/components/page-profile/page-profile.component.html","webpack:///src/app/modules/profile/components/page-profile/settings/settings.component.ts","webpack:///src/app/modules/profile/components/page-profile/settings/settings.component.html","webpack:///src/app/modules/profile/profile-routing.module.ts","webpack:///src/app/modules/profile/profile.module.ts","webpack:///src/app/validators/change-old-password.ts"],"names":["PageProfileAdsComponent","serviceProfile","serviceAuth","subscriptions","limit","offset","ads","isLoading","isLoadAll","loadMoreForScroll","loadMore","bind","s1","profile$","subscribe","x","profile","send","push","forEach","unsubscribe","removeScroll","addScroll","window","addEventListener","removeEventListener","s","getAds","length","err","rect","preloader","nativeElement","getBoundingClientRect","top","innerHeight","selector","templateUrl","styleUrls","PageProfileInfoComponent","fb","router","attentionMsg","avatarSave","url","apiUrl","isProdMode","production","form","group","files","avatar","name","email","passwordOld","minLength","minLenPassword","passwordNew","passwordConfirm","validators","PasswordsValidator","patchValue","target","invalid","hasError","console","log","getError","key","controls","formControl","get","status","newFormData","getNewFormData","value","btnSubmit","querySelector","classList","add","disabled","update","reset","next","remove","confirm","disable","logout","JWT","navigate","then","addPhoto","avatarTag","contains","setValue","markAsDirty","onSubmit","deleteProfile","PageProfileComponent","localStorage","clear","PageProfileSettingsComponent","routes","path","redirectTo","pathMatch","component","children","ProfileRoutingModule","forChild","imports","exports","ProfileModule","declarations","ChangeOldPassword","control","trim","passwordsError"],"mappings":"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","file":"modules-profile-profile-module-es5.js","sourcesContent":["import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {AdFullInterface} from '../../../../../interfaces/response/ad';\nimport {AuthService} from '../../../../../services/auth.service';\nimport {UserInterface} from '../../../../../interfaces/response/user';\nimport {ProfileService} from '../../../../../services/profile.service';\n\n@Component({\n    selector: 'app-page-profile-ads',\n    templateUrl: './ads.component.html',\n    styleUrls: ['./ads.component.less'],\n})\nexport class PageProfileAdsComponent implements OnInit, OnDestroy, AfterViewInit {\n    private subscriptions: Subscription[] = [];\n    private profile: UserInterface;\n    private limit: number = 3;\n    private offset: number = 0;\n    private loadMoreForScroll: () => void;\n    ads: AdFullInterface[] = [];\n    isLoading: boolean = false;\n    isLoadAll: boolean = false;\n    @ViewChild('preloader', {static: true}) preloader: ElementRef;\n\n    constructor(\n        private serviceProfile: ProfileService,\n        private serviceAuth: AuthService,\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.loadMoreForScroll = this.loadMore.bind(this);\n\n        const s1 = this.serviceAuth.profile$.subscribe(x => {\n            this.profile = x;\n\n            // может прийти null. При этом отправку данных не делаем.\n            if (!x) {\n                return;\n            }\n\n            this.send();\n        });\n        this.subscriptions.push(s1);\n    }\n\n    ngOnDestroy(): void {\n        this.subscriptions.forEach(x => x.unsubscribe());\n        this.removeScroll();\n    }\n\n    ngAfterViewInit(): void {\n        this.addScroll();\n    }\n\n    addScroll(): void {\n        window.addEventListener('scroll', this.loadMoreForScroll);\n    }\n\n    removeScroll(): void {\n        window.removeEventListener('scroll', this.loadMoreForScroll);\n    }\n\n    send(): void {\n        this.isLoading = true;\n        const s = this.serviceProfile.getAds(this.limit, this.offset).subscribe(\n            x => {\n                this.ads.push(...x);\n                this.offset += this.limit;\n\n                if (x.length < this.limit) {\n                    this.isLoadAll = true;\n                    return;\n                }\n\n                this.loadMore();\n            },\n            err => this.isLoading = false,\n            () => this.isLoading = false\n        );\n        this.subscriptions.push(s);\n    }\n\n    loadMore(): void {\n        const rect: DOMRect = this.preloader.nativeElement.getBoundingClientRect();\n        if (rect.top > window.innerHeight || this.isLoading || this.isLoadAll) {\n            return;\n        }\n\n        this.send();\n    }\n}\n","<div class=\"page-profile-ads\">\n    <div *ngIf=\"ads.length\">\n        <app-ad *ngFor=\"let ad of ads\" [ad]=\"ad\" viewOpt=\"line\" [inProfile]=\"true\"></app-ad>\n    </div>\n    <div #preloader [hidden]=\"isLoadAll\" [class.not-visible]=\"!isLoading\">\n        <app-preloader></app-preloader>\n    </div>\n</div>\n","import {AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Router} from '@angular/router';\nimport {Helpers} from '../../../../../helpers';\nimport {UserInterface} from '../../../../../interfaces/response/user';\nimport {AuthService} from '../../../../../services/auth.service';\nimport {ProfileService} from '../../../../../services/profile.service';\nimport {environment} from '../../../../../../environments/environment';\nimport {ChangeOldPassword} from '../../../../../validators/change-old-password';\n\n@Component({\n    selector: 'app-page-profile-info',\n    templateUrl: './info.component.html',\n    styleUrls: ['./info.component.less'],\n})\nexport class PageProfileInfoComponent implements OnInit, OnDestroy, AfterViewInit {\n    private subscriptions: Subscription[] = [];\n    private attentionMsg: string = 'Вы точно хотите удалить профиль?\\nОн и все сопутствующие данные удалятся безвовзравно.\\nПосле восстановить уже не получится.';\n    private avatarSave: string = '';\n    url: string = environment.apiUrl;\n    form: FormGroup;\n    profile: UserInterface;\n    isProdMode: boolean = environment.production;\n    @ViewChild('avatar', {static: true}) avatar: ElementRef;\n\n    constructor(\n        private fb: FormBuilder,\n        private serviceProfile: ProfileService,\n        private serviceAuth: AuthService,\n        private router: Router,\n    ) {\n        this.form = this.fb.group({\n            files: '',\n            avatar: '',\n            name: '',\n            email: '',\n            passwordOld: ['', Validators.minLength(environment.minLenPassword)],\n            passwordNew: ['', Validators.minLength(environment.minLenPassword)],\n            passwordConfirm: ['', Validators.minLength(environment.minLenPassword)],\n        }, {validators: ChangeOldPassword.PasswordsValidator});\n    }\n\n    ngOnInit(): void {\n        const s = this.serviceAuth.profile$.subscribe(x => {\n            this.profile = x;\n\n            if (!x) {\n                return;\n            }\n\n            this.form.patchValue(x);\n        });\n        this.subscriptions.push(s);\n    }\n\n    ngOnDestroy(): void {\n        this.subscriptions.forEach(x => x.unsubscribe());\n    }\n\n    ngAfterViewInit(): void {\n    }\n\n    onSubmit({target}): void {\n        if (this.form.invalid) {\n            if (this.form.hasError('passwordsError')) {\n                console.log(this.form.getError('passwordsError'));\n            }\n            for (let key in this.form.controls) {\n                const formControl = this.form.get(key);\n\n                if (formControl.status === 'INVALID') {\n                    console.log('INVALID:', key);\n                }\n            }\n            return;\n        }\n\n        const newFormData = Helpers.getNewFormData(this.form.value);\n        const btnSubmit = target.querySelector('[type=\"submit\"]');\n\n        target.classList.add('sx-loading');\n        btnSubmit.disabled = true;\n        const s = this.serviceProfile.update(newFormData).subscribe(\n            x => {\n                target.reset();\n                this.form.reset();\n                this.serviceAuth.profile$.next(x);\n                this.avatarSave = '';\n                this.form.patchValue({\n                    passwordOld: '',\n                    passwordNew: '',\n                    passwordConfirm: '',\n                });\n            },\n            err => {\n                btnSubmit.disabled = false;\n                target.classList.remove('sx-loading');\n            },\n            () => {\n                btnSubmit.disabled = false;\n                target.classList.remove('sx-loading');\n            }\n        );\n        this.subscriptions.push(s);\n    }\n\n    deleteProfile({target}): void {\n        if (!confirm(this.attentionMsg)) {\n            return;\n        }\n\n        target.disable = true;\n        const s = this.serviceProfile.delete().subscribe(\n            x => {\n                // отписку не делаем, т.к. нужно чтоб она по любому отработала\n                this.serviceAuth.logout().subscribe(x => this.serviceAuth.JWT = '');\n                this.router.navigate(['/main']).then();\n            },\n            err => target.disable = false,\n            () => target.disable = false\n        );\n        this.subscriptions.push(s);\n    }\n\n    addPhoto({target}): void {\n        Helpers.addPhoto(target, this.form);\n    }\n\n    deletePhoto({target}): void {\n        const avatarTag = this.avatar.nativeElement;\n\n        if (avatarTag.classList.contains('sx-statement')) {\n            avatarTag.classList.remove('sx-statement');\n            this.form.get('avatar').setValue(this.avatarSave);\n\n        } else {\n            avatarTag.classList.add('sx-statement');\n            this.avatarSave = this.form.get('avatar').value;\n            this.form.get('avatar').setValue('');\n            this.form.markAsDirty();\n        }\n    }\n}\n","<div class=\"page-profile-info\">\n    <div class=\"page-profile-info_flexbox\">\n        <div>\n            <div #avatar class=\"page-profile-info_avatar\">\n                <ng-container *ngIf=\"profile?.avatar\">\n                    <div (click)=\"deletePhoto($event)\"\n                         class=\"page-profile-info_avatar_delete\" title=\"удалить\">&times;\n                    </div>\n                    <img [src]=\"url + '/resample/0/320/' + profile.avatar\"/>\n                </ng-container>\n            </div>\n        </div>\n        <div>\n            <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit($event)\" class=\"form\">\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Аватар:</div>\n                    <input type=\"hidden\" formControlName=\"files\"/>\n                    <input type=\"file\" accept=\"image/jpeg,image/png\" (change)=\"addPhoto($event)\"/>\n                </div>\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Е-мэйл:</div>\n                    <input formControlName=\"email\" type=\"email\" readonly=\"readonly\"/>\n                </div>\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Имя:</div>\n                    <input formControlName=\"name\" type=\"text\"/>\n                </div>\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Пароль:</div>\n                    <input formControlName=\"passwordOld\" type=\"text\"/>\n                </div>\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Новый пароль:</div>\n                    <input formControlName=\"passwordNew\" type=\"text\"/>\n                </div>\n                <div class=\"form_row\">\n                    <div class=\"form_title\">Новый пароль (повтор):</div>\n                    <input formControlName=\"passwordConfirm\" type=\"text\"/>\n                </div>\n                <div class=\"form_row\">\n                    <input type=\"submit\" [disabled]=\"form.invalid || form.pristine\" value=\"Сохранить\"/>\n                </div>\n                <div class=\"form_row align-right\">\n                    <span class=\"text-mute\">Дата регистрации</span>: {{ profile?.createdAt | date }}\n                </div>\n                <div *ngIf=\"!isProdMode\" class=\"form_row\">\n                    {{ form.value | json }}\n                </div>\n            </form>\n        </div>\n    </div>\n    <br/>\n    <hr class=\"hr\"/>\n    <br/>\n    <div class=\"align-right\">\n        <button (click)=\"deleteProfile($event)\">Удалить профиль</button>\n    </div>\n</div>\n","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {UserInterface} from '../../../../interfaces/response/user';\nimport {AuthService} from '../../../../services/auth.service';\nimport {Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-page-profile',\n    templateUrl: './page-profile.component.html',\n    styleUrls: ['./page-profile.component.less'],\n})\nexport class PageProfileComponent implements OnInit, OnDestroy {\n    private subscriptions: Subscription[] = [];\n    profile: UserInterface;\n\n    constructor(\n        private serviceAuth: AuthService,\n        private router: Router,\n    ) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    ngOnDestroy(): void {\n        this.subscriptions.forEach(x => x.unsubscribe());\n    }\n\n    logout(): void {\n        const s = this.serviceAuth.logout().subscribe(x => {\n            this.serviceAuth.JWT = '';\n            localStorage.clear();\n            this.serviceAuth.profile$.next(null);\n            this.router.navigate(['/main']).then();\n        });\n        this.subscriptions.push(s);\n    }\n}\n","<div class=\"page-profile\">\n    <div class=\"page-profile_cols\">\n        <div class=\"page-profile_cols_col sx-menu\">\n            <ul class=\"page-profile_links\">\n                <li class=\"text-eclipse\">\n                    <a href=\"javascript:void(0)\" routerLink=\"/profile/info\" routerLinkActive=\"active\">\n                        Основные данные\n                    </a>\n                </li>\n                <li class=\"text-eclipse\">\n                    <a href=\"javascript:void(0)\" routerLink=\"/profile/ads\" routerLinkActive=\"active\">Мои объявления</a>\n                </li>\n                <li class=\"text-eclipse\">\n                    <a href=\"javascript:void(0)\" routerLink=\"/profile/settings\" routerLinkActive=\"active\">Настройки</a>\n                </li>\n                <li class=\"text-eclipse\">\n                    <a (click)=\"logout()\" href=\"javascript:void(0)\">Выход</a>\n                </li>\n            </ul>\n        </div>\n        <div class=\"page-profile_cols_col sx-content\">\n            <router-outlet></router-outlet>\n        </div>\n    </div>\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n    selector: 'app-page-profile-settings',\n    templateUrl: './settings.component.html',\n    styleUrls: ['./settings.component.less'],\n})\nexport class PageProfileSettingsComponent {\n}\n","<div class=\"page-profile-settings\"></div>\n","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {PageNotFoundComponent} from '../../components/page-not-found/page-not-found.component';\nimport {PageProfileComponent} from './components/page-profile/page-profile.component';\nimport {PageProfileInfoComponent} from './components/page-profile/info/info.component';\nimport {PageProfileSettingsComponent} from './components/page-profile/settings/settings.component';\nimport {PageProfileAdsComponent} from './components/page-profile/ads/ads.component';\n\nconst routes: Routes = [\n    {path: '', redirectTo: 'info', pathMatch: 'full'},\n    {\n        path: '', component: PageProfileComponent, children: [\n            {path: 'info', component: PageProfileInfoComponent},\n            {path: 'settings', component: PageProfileSettingsComponent},\n            {path: 'ads', component: PageProfileAdsComponent},\n        ]\n    },\n    {path: '**', component: PageNotFoundComponent},\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ProfileRoutingModule {\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {PageProfileComponent} from './components/page-profile/page-profile.component';\nimport {PageProfileSettingsComponent} from './components/page-profile/settings/settings.component';\nimport {PageProfileInfoComponent} from './components/page-profile/info/info.component';\nimport {PageProfileAdsComponent} from './components/page-profile/ads/ads.component';\nimport {ProfileRoutingModule} from './profile-routing.module';\nimport {SharedModule} from '../shared/shared.module';\n\n@NgModule({\n    declarations: [\n        PageProfileComponent,\n        PageProfileInfoComponent,\n        PageProfileSettingsComponent,\n        PageProfileAdsComponent,\n    ],\n    imports: [\n        ReactiveFormsModule,\n        CommonModule,\n        RouterModule,\n        ProfileRoutingModule,\n        SharedModule,\n    ]\n})\nexport class ProfileModule {\n}\n","import {FormGroup, ValidationErrors, ValidatorFn} from '@angular/forms';\n\nexport class ChangeOldPassword {\n    static PasswordsValidator: ValidatorFn = (control: FormGroup): ValidationErrors | null => {\n        let passwordOld = control.get('passwordOld').value;\n        let passwordNew = control.get('passwordNew').value;\n        let passwordConfirm = control.get('passwordConfirm').value;\n\n        if (passwordOld) {\n            passwordOld = passwordOld.trim();\n        }\n        if (passwordNew) {\n            passwordNew = passwordNew.trim();\n        }\n        if (passwordConfirm) {\n            passwordConfirm = passwordConfirm.trim();\n        }\n\n        if (!passwordOld && !passwordNew && !passwordConfirm || passwordOld && passwordNew === passwordConfirm) {\n            return null;\n        }\n\n        return {passwordsError: 'ошибка в паролях'};\n    };\n}\n"]}